description = "Xoom FeatherCon Servlet Container"

apply plugin: 'java'
apply plugin: 'jacoco'

buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath 'org.ajoberstar:gradle-jacoco:0.3.0'
    }
}

repositories {
    mavenCentral()
}

ext.versions = [
        slf4j: "1.7.2",
        logback: "1.0.9",
        junit: "4.11"
]

dependencies {
    compile "org.slf4j:slf4j-api:${versions.slf4j}"
    compile "ch.qos.logback:logback-classic:${versions.logback}"
    compile "org.slf4j:jul-to-slf4j:${versions.slf4j}"
    compile 'org.eclipse.jetty:jetty-server:8.1.9.v20130131'
    compile 'org.eclipse.jetty:jetty-servlet:8.1.9.v20130131'
    compile 'org.eclipse.jetty.orbit:javax.servlet:3.0.0.v201112011016'

    testCompile group: "junit", name: "junit", version: versions.junit
    testCompile "org.hamcrest:hamcrest-all:1.3"
}

tasks.withType(Test) {
    systemProperties = System.getProperties()
    jvmArgs '-Xmx2g'
    testLogging {
        showStandardStreams = true
        exceptionFormat "full"
    }
}

tasks.withType(Compile) {
    options.encoding = 'UTF-8'
}

task wrapper(type: Wrapper) {
    gradleVersion = '1.7'
}
